<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>15 D√çAS DE LOCURA - Pizza Ham & Cheese XCG 25</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <!-- HEADER URGENTE -->
        <header class="header">
    <div class="urgent-banner">
        üö® 15 D√çAS DE LOCURA üö®
    </div>
    <h1>¬°PIZZA HAM & CHEESE POR SOLO <span class="price-inline">XCG 25</span>!</h1>
    <p class="delivery-text">üìû DELIVERY GRATIS</p>
    <p class="phone-contact">Tel√©fonos: +599 9512 0536 ‚Ä¢ +599 9515 4108</p>
</header>

        <!-- COUNTDOWN -->
        <div class="countdown">
    <h3>‚è∞ OFERTA POR TIEMPO LIMITADO:</h3>
    <div class="countdown-timer">
        <strong>DEL 10 AL 25 DE OCTUBRE</strong>
    </div>
    <p>¬°Solo quedan <span id="days">14</span> d√≠as!</p>
</div>

        <!-- CONTADOR DE PIZZAS -->
        <div class="pizza-counter">
            <div class="progress-container">
                <div class="progress-bar">
                    <div id="progress" class="progress-fill"></div>
                </div>
                <div class="counter-text">
                    <span id="pizzas-sold">0</span>/50 PIZZAS VENDIDAS
                </div>
            </div>
        </div>

        
            <button onclick="shareOnWhatsApp()" class="btn btn-whatsapp">
                üì± COMPARTIR EN WHATSAPP
            </button>
        </div>
<!-- BOTONES DE ACCI√ìN -->
<div class="action-buttons">
    <!-- BOT√ìN DE LLAMADA √öNICO -->
    <div class="call-options">
        <a href="tel:+59995120536" class="btn btn-call">
            üìû LLAMAR PARA PEDIR
        </a>
        <div class="phone-numbers">
            <small>+599 9512 0536 ‚Ä¢ +599 9515 4108</small>
        </div>
    </div>
    
    <!-- BOT√ìN SENTOO -->
    <a href="https://pay.sentoo.me/p/d9d5ba6b-1de4-4c7f-bd0b-303727d49f88" 
       target="_blank" class="btn btn-sentoo">
        üí≥ PAGAR CON SENTOO
    </a>
    
    <!-- BOT√ìN WHATSAPP -->
    <button onclick="shareOnWhatsApp()" class="btn btn-whatsapp">
        üì± COMPARTIR OFERTA
    </button>
</div>
        <!-- INFORMACI√ìN -->
        <div class="info-section">
            <div class="pizza-card">
                <h3>üçï PIZZA HAM & CHEESE</h3>
                <p class="price">XCG 25</p>
                <p class="delivery-free">üöö DELIVERY GRATIS</p>
            </div>
            
            <div class="testimonials">
                <h4>üì¢ LO QUE DICEN NUESTROS CLIENTES:</h4>
                <div class="testimonial">
                    "¬°Incre√≠ble oferta! Ped√≠ 2 pizzas y llegaron en 30 min üçï"
                </div>
                <div class="testimonial">
                    "El queso derretido es espectacular, ¬°no se la pierdan!"
                </div>
            </div>
        </div>

        <!-- FOOTER -->
        <footer class="footer">
            <p> Oferta v√°lida del 10 al 25 de Octubre</p>
            <p>‚è∞ Horario de pedidos: 17:00     Delivery - 20:00 - 21:00</p>
        </footer>
    </div>

    <script src="script.js"></script>
    <script>
/* ===== PUBLIC CONFIG (no organizer section needed) ===== */
const PRICE_XCG = 20;                      // price per pizza
const WA_NUMBER_INTL = '59995120536';      // WhatsApp number (digits only, no +)
const DELIVERY_WINDOW = '20:00‚Äì21:00';

/* ===== Grab UI elements (make sure these IDs exist in your HTML) ===== */
const els = {
  name:    document.getElementById('name'),
  phone:   document.getElementById('phone'),
  address: document.getElementById('address'),
  qty:     document.getElementById('qty'),
  date:    document.getElementById('date'),
  total:   document.getElementById('total'),
  submit:  document.getElementById('submit'),
  paySentoo: document.querySelector('input[name="pay"][value="sentoo"]'),
  payCod:    document.querySelector('input[name="pay"][value="cod"]'),
  quotaMsg:  document.getElementById('quotaMsg'),
  couponBadge: document.getElementById('couponBadge'),
};

/* ===== Coupon from URL (?c=P23Z) ===== */
const couponParam = new URLSearchParams(location.search).get('c') || '';
if (couponParam) localStorage.setItem('pizza_coupon_current', couponParam);
const COUPON = localStorage.getItem('pizza_coupon_current') || couponParam || '';
if (els.couponBadge) els.couponBadge.textContent = COUPON ? `Coupon: ${COUPON}` : '';

/* ===== Total & counter helpers ===== */
function currentPayMethod(){
  if (els.paySentoo && els.paySentoo.checked) return 'sentoo';
  return 'cod';
}

function updateTotals(){
  const qty = Math.max(1, parseInt(els.qty?.value || '1', 10));
  const total = qty * PRICE_XCG;
  if (els.qty) els.qty.value = qty;
  if (els.total) els.total.textContent = isNaN(total) ? '‚Äî' : total.toFixed(2);

  // Per-day local counter (soft indicator only)
  const day = els.date?.value || '';
  const key = 'pizza_day_counts_v1';
  const data = JSON.parse(localStorage.getItem(key) || '{}');
  const dayQty = day ? (data[day] || 0) : 0;
  if (els.quotaMsg) els.quotaMsg.textContent = day ? `This device has ${dayQty} booked for ${day}. Target ~3/day.` : '';
}

['change','input'].forEach(evt=>{
  els.qty?.addEventListener(evt, updateTotals);
  els.date?.addEventListener(evt, updateTotals);
});
updateTotals();

/* ===== Build WhatsApp message & open chat ===== */
function buildWhatsAppMessage(order){
  return (
`Pizza Fundraising ‚Äî New Order
Name: ${order.name}
Phone: ${order.phone}
Address: ${order.address}
Qty: ${order.qty}
Date: ${order.date} (${DELIVERY_WINDOW})
Payment: ${order.pay === 'sentoo' ? 'Sentoo (proof via WhatsApp)' : 'Pay on delivery'}
Total: ${order.total.toFixed(2)} XCG
Coupon: ${COUPON || '‚Äî'}`
  );
}

function submitOrder(){
  const name = (els.name?.value || '').trim();
  const phone = (els.phone?.value || '').trim();
  const address = (els.address?.value || '').trim();
  const qty = Math.max(1, parseInt(els.qty?.value || '1', 10));
  const date = els.date?.value || '';
  const pay  = currentPayMethod();

  if (!name || !phone || !address || !qty || !date){
    alert('Please fill name, phone, address, quantity, and date.');
    return;
  }

  const total = qty * PRICE_XCG;
  const order = { name, phone, address, qty, date, pay, total };

  // local per-day counter (soft)
  const key = 'pizza_day_counts_v1';
  const data = JSON.parse(localStorage.getItem(key) || '{}');
  data[date] = (data[date] || 0) + qty;
  localStorage.setItem(key, JSON.stringify(data));

  // WhatsApp open (use location.href to avoid popup blockers)
  const msg = encodeURIComponent(buildWhatsAppMessage(order));
  const wa  = `https://wa.me/${WA_NUMBER_INTL}?text=${msg}`;
  location.href = wa;
}

els.submit?.addEventListener('click', submitOrder);
</script>

</body>

</html>




